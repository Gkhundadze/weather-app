<div class="container">
    <div [style.backgroundImage]="'url(' + bgUrl + ')'" class="card">
        <div class="card-title">
            <h1>Weather App</h1>
            <!-- <p>Current Value :{{newValue}}</p> -->
            <form (submit)="fetchData()">
                <input [(ngModel)]='newValue' type="text" name="newValue" placeholder="Enter City Name ..." #mainInput
                    (focus)='clearFocus(mainInput)' />
                <button type="submit">Search</button>
            </form>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">Country :</span>

            <span class="value"> {{country}}</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">City name :</span>

            <span class="value"> {{cityName}}</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">Temp :</span>

            <span class="value">{{temp}} °</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">feels like :</span>

            <span class="value">{{feelsLike}}
                °</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">humidity :</span>

            <span class="value">{{humidity}} %</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">pressure :</span>

            <span class="value">{{pressure}}
                hPa</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">windSpeed :</span>

            <span class="value">{{windSpeed}}
                km/h</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">visibility :</span>

            <span class="value">{{visibility}}
                km</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">Sky :</span>

            <span class="value">{{clouds}}
                <ng-container *ngIf="clouds =='Clouds'; then cloud"></ng-container>
                <ng-container *ngIf="clouds =='Rain'; then rain"></ng-container>
                <ng-container *ngIf="clouds =='Clear'; then sun"></ng-container>
                <ng-template #sun>
                    <i class="fas fa-sun"></i>
                </ng-template>
                <ng-template #cloud>
                    <i class="fas fa-cloud"></i>
                </ng-template>
                <ng-template #rain>
                    <i class="fas fa-cloud-rain"></i>
                </ng-template>
            </span>
            <div>
                <span class="property">Description :</span>
                <span class="value">{{cloudsDescription}}</span>
            </div>
        </div>
    </div>
</div>
<div *ngIf="error" class="error-message" [ngClass]="{'show-error': error !== ''}">
    <p>{{error}}</p>
</div>

<div class="map-container">
    <div class="d-flex-centered">
        <div class="prop-val-wrapper">
            <span class="property">latitude : </span><span class="value">{{lat}}</span>
        </div>
        <div class="prop-val-wrapper">
            <span class="property">longitude : </span><span class="value">{{lon}}</span>
        </div>
    </div>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d190556.8341359151!2d44.69876882752868!3d41.732374182465804!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40440cd7e64f626b%3A0x61d084ede2576ea3!2z4YOX4YOR4YOY4YOa4YOY4YOh4YOY!5e0!3m2!1ska!2sge!4v1637281129024!5m2!1ska!2sge" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
</div>